!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(){THREE.ViveController=function(t){function e(t){for(var e=navigator.getGamepads(),i=0,r=0;4>i;i++){var n=e[i];if(n&&"OpenVR Gamepad"===n.id){if(r===t)return n;r++}}}THREE.Object3D.call(this);var i,r=this,n=[0,0],s=!1,o=!1,a=!1,p=!1;this.matrixAutoUpdate=!1,this.standingMatrix=new THREE.Matrix4,this.getGamepad=function(){return i},this.getButtonState=function(t){return"thumbpad"===t?s:"trigger"===t?o:"grips"===t?a:"menu"===t?p:void 0},this.update=function(){if(i=e(t),void 0!==i&&null!==i.pose){var u=i.pose;null!==u.position&&r.position.fromArray(u.position),null!==u.orientation&&r.quaternion.fromArray(u.orientation),r.matrix.compose(r.position,r.quaternion,r.scale),r.matrix.multiplyMatrices(r.standingMatrix,r.matrix),r.matrixWorldNeedsUpdate=!0,r.visible=!0,n[0]===i.axes[0]&&n[1]===i.axes[1]||(n[0]=i.axes[0],n[1]=i.axes[1],r.dispatchEvent({type:"axischanged",axes:n})),s!==i.buttons[0].pressed&&(s=i.buttons[0].pressed,r.dispatchEvent({type:s?"thumbpaddown":"thumbpadup"})),o!==i.buttons[1].pressed&&(o=i.buttons[1].pressed,r.dispatchEvent({type:o?"triggerdown":"triggerup"})),a!==i.buttons[2].pressed&&(a=i.buttons[2].pressed,r.dispatchEvent({type:a?"gripsdown":"gripsup"})),p!==i.buttons[3].pressed&&(p=i.buttons[3].pressed,r.dispatchEvent({type:p?"menudown":"menuup"}))}else r.visible=!1}},THREE.ViveController.prototype=Object.create(THREE.Object3D.prototype),THREE.ViveController.prototype.constructor=THREE.ViveController},{}],2:[function(){THREE.VRControls=function(t,e){function s(t){i=t,t.length>0?n=t[0]:e&&e("VR input not available.")}var n,i,o=this,r=new THREE.Matrix4,a=null;"VRFrameData"in window&&(a=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(s),this.scale=1,this.standing=!1,this.userHeight=1.6,this.getVRDisplay=function(){return n},this.getVRDisplays=function(){return i},this.getStandingMatrix=function(){return r},this.update=function(){if(n){var e;n.getFrameData?(n.getFrameData(a),e=a.pose):n.getPose&&(e=n.getPose()),null!==e.orientation&&t.quaternion.fromArray(e.orientation),null!==e.position?t.position.fromArray(e.position):t.position.set(0,0,0),this.standing&&(n.stageParameters?(t.updateMatrix(),r.fromArray(n.stageParameters.sittingToStandingTransform),t.applyMatrix(r)):t.position.setY(t.position.y+this.userHeight)),t.position.multiplyScalar(o.scale)}},this.resetPose=function(){n&&n.resetPose()},this.resetSensor=function(){console.warn("THREE.VRControls: .resetSensor() is now .resetPose()."),this.resetPose()},this.zeroSensor=function(){console.warn("THREE.VRControls: .zeroSensor() is now .resetPose()."),this.resetPose()},this.dispose=function(){n=null}}},{}],3:[function(){THREE.VREffect=function(e,t){function i(e){h=e,e.length>0?o=e[0]:t&&t("HMD not available")}function r(){var t=f.isPresenting;if(f.isPresenting=void 0!==o&&o.isPresenting,f.isPresenting){var i=o.getEyeParameters("left"),r=i.renderWidth,n=i.renderHeight,a=o.getLayers();if(a.length){var s=a[0];x=null!==s.leftBounds&&4===s.leftBounds.length?s.leftBounds:[0,0,.5,1],P=null!==s.rightBounds&&4===s.rightBounds.length?s.rightBounds:[.5,0,.5,1]}t||(v=e.getPixelRatio(),w=e.getSize(),e.setPixelRatio(1),e.setSize(2*r,n,!1))}else t&&(e.setPixelRatio(v),e.setSize(w.width,w.height,m))}function n(e){var t=2/(e.leftTan+e.rightTan),i=(e.leftTan-e.rightTan)*t*.5,r=2/(e.upTan+e.downTan),n=(e.upTan-e.downTan)*r*.5;return{scale:[t,r],offset:[i,n]}}function a(e,t,i,r){t=void 0===t||t,i=void 0===i?.01:i,r=void 0===r?1e4:r;var a=t?-1:1,s=new THREE.Matrix4,o=s.elements,h=n(e);return o[0]=h.scale[0],o[1]=0,o[2]=h.offset[0]*a,o[3]=0,o[4]=0,o[5]=h.scale[1],o[6]=-h.offset[1]*a,o[7]=0,o[8]=0,o[9]=0,o[10]=r/(i-r)*-a,o[11]=r*i/(i-r),o[12]=0,o[13]=0,o[14]=a,o[15]=0,s.transpose(),s}function s(e,t,i,r){var n=Math.PI/180,s={upTan:Math.tan(e.upDegrees*n),downTan:Math.tan(e.downDegrees*n),leftTan:Math.tan(e.leftDegrees*n),rightTan:Math.tan(e.rightDegrees*n)};return a(s,t,i,r)}var o,h,d,l,u=new THREE.Vector3,g=new THREE.Vector3,c=null;"VRFrameData"in window&&(c=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(i),this.isPresenting=!1,this.scale=1;var f=this,w=e.getSize(),m=!1,v=e.getPixelRatio();this.getVRDisplay=function(){return o},this.getVRDisplays=function(){return h},this.setSize=function(t,i,r){if(w={width:t,height:i},m=r,f.isPresenting){var n=o.getEyeParameters("left");e.setPixelRatio(1),e.setSize(2*n.renderWidth,n.renderHeight,!1)}else e.setPixelRatio(v),e.setSize(t,i,r)};var p=e.domElement,x=[0,0,.5,1],P=[.5,0,.5,1];window.addEventListener("vrdisplaypresentchange",r,!1),this.setFullScreen=function(e){return new Promise(function(t,i){return void 0===o?void i(new Error("No VR hardware found.")):f.isPresenting===e?void t():void t(e?o.requestPresent([{source:p}]):o.exitPresent())})},this.requestPresent=function(){return this.setFullScreen(!0)},this.exitPresent=function(){return this.setFullScreen(!1)},this.requestAnimationFrame=function(e){return void 0!==o?o.requestAnimationFrame(e):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){void 0!==o?o.cancelAnimationFrame(e):window.cancelAnimationFrame(e)},this.submitFrame=function(){void 0!==o&&f.isPresenting&&o.submitFrame()},this.autoSubmitFrame=!0;var y=new THREE.PerspectiveCamera;y.layers.enable(1);var T=new THREE.PerspectiveCamera;T.layers.enable(2),this.render=function(t,i,r,n){if(o&&f.isPresenting){var a=t.autoUpdate;a&&(t.updateMatrixWorld(),t.autoUpdate=!1);var h=o.getEyeParameters("left"),w=o.getEyeParameters("right");u.fromArray(h.offset),g.fromArray(w.offset),Array.isArray(t)&&(console.warn("THREE.VREffect.render() no longer supports arrays. Use object.layers instead."),t=t[0]);var m=e.getSize();d={x:Math.round(m.width*x[0]),y:Math.round(m.height*x[1]),width:Math.round(m.width*x[2]),height:Math.round(m.height*x[3])},l={x:Math.round(m.width*P[0]),y:Math.round(m.height*P[1]),width:Math.round(m.width*P[2]),height:Math.round(m.height*P[3])},r?(e.setRenderTarget(r),r.scissorTest=!0):e.setScissorTest(!0),(e.autoClear||n)&&e.clear(),null===i.parent&&i.updateMatrixWorld(),i.matrixWorld.decompose(y.position,y.quaternion,y.scale),i.matrixWorld.decompose(T.position,T.quaternion,T.scale);var v=this.scale;return y.translateOnAxis(u,v),T.translateOnAxis(g,v),o.getFrameData?(o.depthNear=i.near,o.depthFar=i.far,o.getFrameData(c),y.projectionMatrix.elements=c.leftProjectionMatrix,T.projectionMatrix.elements=c.rightProjectionMatrix):(y.projectionMatrix=s(h.fieldOfView,!0,i.near,i.far),T.projectionMatrix=s(w.fieldOfView,!0,i.near,i.far)),r?(r.viewport.set(d.x,d.y,d.width,d.height),r.scissor.set(d.x,d.y,d.width,d.height)):(e.setViewport(d.x,d.y,d.width,d.height),e.setScissor(d.x,d.y,d.width,d.height)),e.render(t,y,r,n),r?(r.viewport.set(l.x,l.y,l.width,l.height),r.scissor.set(l.x,l.y,l.width,l.height)):(e.setViewport(l.x,l.y,l.width,l.height),e.setScissor(l.x,l.y,l.width,l.height)),e.render(t,T,r,n),r?(r.viewport.set(0,0,m.width,m.height),r.scissor.set(0,0,m.width,m.height),r.scissorTest=!1,e.setRenderTarget(null)):e.setScissorTest(!1),a&&(t.autoUpdate=!0),void(f.autoSubmitFrame&&f.submitFrame())}e.render(t,i,r,n)}}},{}],4:[function(require,module,exports){(function(global){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.WebVRManager=e()}}(function(){return function e(t,i,n){function o(r,a){if(!i[r]){if(!t[r]){var c="function"==typeof require&&require;if(!a&&c)return c(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){var i=t[r][1][e];return o(i?i:e)},u,u.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t){function n(e){var t=e||document.body;this.loadIcons_();var i=this.createButton();i.src=this.ICONS.fullscreen,i.title="Fullscreen mode";var n=i.style;n.bottom=0,n.right=0,i.addEventListener("click",this.createClickHandler_("fs")),t.appendChild(i),this.fsButton=i;var o=this.createButton();o.src=this.ICONS.cardboard,o.title="Virtual reality mode";var n=o.style;n.bottom=0,n.right="48px",o.addEventListener("click",this.createClickHandler_("vr")),t.appendChild(o),this.vrButton=o,this.isVisible=!0}var o=e("./emitter.js"),s=e("./modes.js"),r=e("./util.js");n.prototype=new o,n.prototype.createButton=function(){var e=document.createElement("img");e.className="webvr-button";var t=e.style;return t.position="absolute",t.width="24px",t.height="24px",t.backgroundSize="cover",t.backgroundColor="transparent",t.border=0,t.userSelect="none",t.webkitUserSelect="none",t.MozUserSelect="none",t.cursor="pointer",t.padding="12px",t.zIndex=1,t.display="none",t.boxSizing="content-box",e.draggable=!1,e.addEventListener("dragstart",function(e){e.preventDefault()}),e.addEventListener("mouseenter",function(){t.filter=t.webkitFilter="drop-shadow(0 0 5px rgba(255,255,255,1))"}),e.addEventListener("mouseleave",function(){t.filter=t.webkitFilter=""}),e},n.prototype.setMode=function(e,t){if(t=t||WebVRConfig.FORCE_ENABLE_VR,this.isVisible){switch(e){case s.NORMAL:this.fsButton.style.display="block",this.fsButton.src=this.ICONS.fullscreen,this.vrButton.style.display=t?"block":"none";break;case s.MAGIC_WINDOW:this.fsButton.style.display="block",this.fsButton.src=this.ICONS.exitFullscreen,this.vrButton.style.display="none";break;case s.VR:this.fsButton.style.display="none",this.vrButton.style.display="none"}var i=this.fsButton.style.display;this.fsButton.style.display="inline-block",this.fsButton.offsetHeight,this.fsButton.style.display=i}},n.prototype.setVisibility=function(e){this.isVisible=e,this.fsButton.style.display=e?"block":"none",this.vrButton.style.display=e?"block":"none"},n.prototype.createClickHandler_=function(e){return function(t){t.stopPropagation(),t.preventDefault(),this.emit(e)}.bind(this)},n.prototype.loadIcons_=function(){this.ICONS={},this.ICONS.cardboard=r.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMjAuNzQgNkgzLjIxQzIuNTUgNiAyIDYuNTcgMiA3LjI4djEwLjQ0YzAgLjcuNTUgMS4yOCAxLjIzIDEuMjhoNC43OWMuNTIgMCAuOTYtLjMzIDEuMTQtLjc5bDEuNC0zLjQ4Yy4yMy0uNTkuNzktMS4wMSAxLjQ0LTEuMDFzMS4yMS40MiAxLjQ1IDEuMDFsMS4zOSAzLjQ4Yy4xOS40Ni42My43OSAxLjExLjc5aDQuNzljLjcxIDAgMS4yNi0uNTcgMS4yNi0xLjI4VjcuMjhjMC0uNy0uNTUtMS4yOC0xLjI2LTEuMjh6TTcuNSAxNC42MmMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTMgMS4xOCAwIDIuMTIuOTYgMi4xMiAyLjEzcy0uOTUgMi4xMi0yLjEyIDIuMTJ6bTkgMGMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTNzMi4xMi45NiAyLjEyIDIuMTMtLjk1IDIuMTItMi4xMiAyLjEyeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+Cjwvc3ZnPgo="),this.ICONS.fullscreen=r.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNyAxNEg1djVoNXYtMkg3di0zem0tMi00aDJWN2gzVjVINXY1em0xMiA3aC0zdjJoNXYtNWgtMnYzek0xNCA1djJoM3YzaDJWNWgtNXoiLz4KPC9zdmc+Cg=="),this.ICONS.exitFullscreen=r.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNSAxNmgzdjNoMnYtNUg1djJ6bTMtOEg1djJoNVY1SDh2M3ptNiAxMWgydi0zaDN2LTJoLTV2NXptMi0xMVY1aC0ydjVoNVY4aC0zeiIvPgo8L3N2Zz4K"),this.ICONS.settings=r.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==")},t.exports=n},{"./emitter.js":2,"./modes.js":3,"./util.js":4}],2:[function(e,t){function n(){this.callbacks={}}n.prototype.emit=function(e){var t=this.callbacks[e];if(t){var i=[].slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(this,i)}},n.prototype.on=function(e,t){e in this.callbacks?this.callbacks[e].push(t):this.callbacks[e]=[t]},t.exports=n},{}],3:[function(e,t){var n={UNKNOWN:0,NORMAL:1,MAGIC_WINDOW:2,VR:3};t.exports=n},{}],4:[function(e,t){var n={};n.base64=function(e,t){return"data:"+e+";base64,"+t},n.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},n.isFirefox=function(){return/firefox/i.test(navigator.userAgent)},n.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},n.isIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},n.appendQueryParameter=function(e,t,i){var n=e.indexOf("?")<0?"?":"&";return e+=n+t+"="+i},n.getQueryParameter=function(e){var e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},n.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},n.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},n.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},t.exports=n},{}],5:[function(e,t){function n(e,t,i){this.params=i||{},this.mode=r.UNKNOWN,this.hideButton=this.params.hideButton||!1,this.predistorted=!!this.params.predistorted,this.renderer=e,this.effect=t;var n=document.querySelector(".webvr-polyfill-fullscreen-wrapper");this.button=new o(n),this.isFullscreenDisabled=!!a.getQueryParameter("no_fullscreen"),this.startMode=r.NORMAL;var s=parseInt(a.getQueryParameter("start_mode"));isNaN(s)||(this.startMode=s),this.hideButton&&this.button.setVisibility(!1),this.getDeviceByType_(VRDisplay).then(function(e){switch(this.hmd=e,this.isVRCompatibleOverride||(this.isVRCompatible=!e.isPolyfilled||a.isMobile()),this.startMode){case r.MAGIC_WINDOW:this.setMode_(r.MAGIC_WINDOW);break;case r.VR:this.enterVRMode_(),this.setMode_(r.VR);break;default:this.setMode_(r.NORMAL)}this.emit("initialized")}.bind(this)),this.button.on("fs",this.onFSClick_.bind(this)),this.button.on("vr",this.onVRClick_.bind(this)),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange_.bind(this)),document.addEventListener("mozfullscreenchange",this.onFullscreenChange_.bind(this)),document.addEventListener("msfullscreenchange",this.onFullscreenChange_.bind(this)),window.addEventListener("vrdisplaypresentchange",this.onVRDisplayPresentChange_.bind(this)),window.addEventListener("vrdisplaydeviceparamschange",this.onVRDisplayDeviceParamsChange_.bind(this))}var o=e("./button-manager.js"),s=e("./emitter.js"),r=e("./modes.js"),a=e("./util.js");n.prototype=new s,n.Modes=r,n.prototype.render=function(e,t){e instanceof Array?this.effect.render(e[0],t):this.effect.render(e,t)},n.prototype.setVRCompatibleOverride=function(e){this.isVRCompatible=e,this.isVRCompatibleOverride=!0,this.button.setMode(this.mode,this.isVRCompatible)},n.prototype.setFullscreenCallback=function(e){this.fullscreenCallback=e},n.prototype.setVRCallback=function(e){this.vrCallback=e},n.prototype.setExitFullscreenCallback=function(e){this.exitFullscreenCallback=e},n.prototype.getDeviceByType_=function(e){return new Promise(function(t){navigator.getVRDisplays().then(function(i){for(var n=0;n<i.length;n++)if(i[n]instanceof e){t(i[n]);break}t(null)},function(){t(null)})})},n.prototype.enterVRMode_=function(){this.hmd.requestPresent([{source:this.renderer.domElement,predistorted:this.predistorted}])},n.prototype.setMode_=function(e){var t=this.mode;return e==this.mode?void console.warn("Not changing modes, already in %s",e):(this.mode=e,this.button.setMode(e,this.isVRCompatible),void this.emit("modechange",e,t))},n.prototype.onFSClick_=function(){switch(this.mode){case r.NORMAL:if(a.isIOS()&&a.isIFrame()){if(!this.fullscreenCallback){var e=window.location.href;return e=a.appendQueryParameter(e,"no_fullscreen","true"),e=a.appendQueryParameter(e,"start_mode",r.MAGIC_WINDOW),void(top.location.href=e)}this.fullscreenCallback()}this.setMode_(r.MAGIC_WINDOW),this.requestFullscreen_();break;case r.MAGIC_WINDOW:if(this.isFullscreenDisabled)return void window.history.back();this.exitFullscreenCallback&&this.exitFullscreenCallback(),this.setMode_(r.NORMAL),this.exitFullscreen_()}},n.prototype.onVRClick_=function(){if(this.mode==r.NORMAL&&a.isIOS()&&a.isIFrame()){if(!this.vrCallback){var e=window.location.href;return e=a.appendQueryParameter(e,"no_fullscreen","true"),e=a.appendQueryParameter(e,"start_mode",r.VR),void(top.location.href=e)}this.vrCallback()}this.enterVRMode_()},n.prototype.requestFullscreen_=function(){var e=document.body;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},n.prototype.exitFullscreen_=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},n.prototype.onVRDisplayPresentChange_=function(e){console.log("onVRDisplayPresentChange_",e),this.setMode_(this.hmd.isPresenting?r.VR:r.NORMAL)},n.prototype.onVRDisplayDeviceParamsChange_=function(e){console.log("onVRDisplayDeviceParamsChange_",e)},n.prototype.onFullscreenChange_=function(){null!==document.webkitFullscreenElement&&null!==document.mozFullScreenElement||this.setMode_(r.NORMAL)},t.exports=n},{"./button-manager.js":1,"./emitter.js":2,"./modes.js":3,"./util.js":4}]},{},[5])(5)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a["default"]=e,a}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _three="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,THREE=_interopRequireWildcard(_three),_colors=require("./colors"),_colors2=_interopRequireDefault(_colors),AirPlane=function e(){_classCallCheck(this,e),this.mesh=new THREE.Object3D;var a=new THREE.BoxGeometry(130,40,40,1,1,1),o=new THREE.MeshPhongMaterial({color:_colors2["default"].airplane,shading:THREE.FlatShading});a.vertices[4].y-=10,a.vertices[4].z+=20,a.vertices[5].y-=10,a.vertices[5].z-=20,a.vertices[6].y+=30,a.vertices[6].z+=20,a.vertices[7].y+=30,a.vertices[7].z-=20;var t=new THREE.Mesh(a,o);t.castShadow=!0,t.receiveShadow=!0,t.position.set(-75,0,0),this.mesh.add(t);var r=new THREE.BoxGeometry(40,40,40,1,1,1),s=new THREE.MeshPhongMaterial({color:_colors2["default"].airplane,shading:THREE.FlatShading}),i=new THREE.Mesh(r,s);i.castShadow=!0,i.receiveShadow=!0,i.position.set(10,0,0),this.mesh.add(i);var n=new THREE.BoxGeometry(20,40,40,1,1,1),h=new THREE.MeshPhongMaterial({color:_colors2["default"].white,shading:THREE.FlatShading}),l=new THREE.Mesh(n,h);l.position.x=40,l.castShadow=!0,l.receiveShadow=!0,this.mesh.add(l);var d=new THREE.BoxGeometry(40,2,200,1,1,1),E=new THREE.MeshPhongMaterial({color:_colors2["default"].airplane,shading:THREE.FlatShading}),c=new THREE.Mesh(d,E);c.castShadow=!0,c.receiveShadow=!0,c.position.set(20,50,0),this.mesh.add(c);var w=new THREE.BoxGeometry(40,2,200,1,1,1),R=new THREE.MeshPhongMaterial({color:_colors2["default"].airplane,shading:THREE.FlatShading}),p=new THREE.Mesh(w,R);p.castShadow=!0,p.receiveShadow=!0,p.position.set(10,-10,0),this.mesh.add(p);var T=new THREE.BoxGeometry(2,60,2,1,1,1),v=new THREE.MeshPhongMaterial({color:_colors2["default"].airplane,shading:THREE.FlatShading}),H=new THREE.Mesh(T,v);H.castShadow=!0,H.receiveShadow=!0,H.position.set(15,20,-80),this.mesh.add(H);var M=new THREE.Mesh(T,v);M.castShadow=!0,M.receiveShadow=!0,M.position.set(15,20,80),this.mesh.add(M);var u=new THREE.BoxGeometry(30,25,2,1,1,1),S=new THREE.MeshPhongMaterial({color:_colors2["default"].airplane,shading:THREE.FlatShading}),g=new THREE.Mesh(u,S);g.position.set(-115,20,0),g.castShadow=!0,g.receiveShadow=!0,this.mesh.add(g);var f=new THREE.BoxGeometry(20,2,60,1,1,1),_=new THREE.MeshPhongMaterial({color:_colors2["default"].airplane,shading:THREE.FlatShading}),y=new THREE.Mesh(f,_);y.castShadow=!0,y.receiveShadow=!0,y.position.set(-110,11,0),this.mesh.add(y);var m=new THREE.BoxGeometry(20,10,10,1,1,1);m.vertices[4].y-=5,m.vertices[4].z+=5,m.vertices[5].y-=5,m.vertices[5].z-=5,m.vertices[6].y+=5,m.vertices[6].z+=5,m.vertices[7].y+=5,m.vertices[7].z-=5;var x=new THREE.MeshPhongMaterial({color:_colors2["default"].brown,shading:THREE.FlatShading});this.propeller=new THREE.Mesh(m,x),this.propeller.castShadow=!0,this.propeller.receiveShadow=!0;var P=new THREE.BoxGeometry(1,80,10,1,1,1),B=new THREE.MeshPhongMaterial({color:_colors2["default"].brownDark,shading:THREE.FlatShading}),F=new THREE.Mesh(P,B);F.position.set(8,0,0),F.castShadow=!0,F.receiveShadow=!0;var G=F.clone();G.rotation.x=Math.PI/2,G.castShadow=!0,G.receiveShadow=!0,this.propeller.add(F),this.propeller.add(G),this.propeller.position.set(50,0,0),this.mesh.add(this.propeller),this.mesh.applyMatrix((new THREE.Matrix4).makeRotationY(Math.PI/2)),this.mesh.rotation.order="ZXY"};exports["default"]=AirPlane}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./colors":7}],6:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _three="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,THREE=_interopRequireWildcard(_three),_colors=require("./colors"),_colors2=_interopRequireDefault(_colors),Cloud=function e(){_classCallCheck(this,e),this.mesh=new THREE.Object3D;for(var o=new THREE.SphereGeometry(20,6,6),t=new THREE.MeshPhongMaterial({color:_colors2["default"].white,transparent:!0,opacity:.9,shading:THREE.FlatShading}),a=5+Math.floor(20*Math.random()),r=0;a>r;r++){var n=new THREE.Mesh(o,t);n.position.x=15*r*Math.random(),n.position.y=10*Math.random(),n.position.z=20*Math.random(),n.rotation.z=Math.random()*Math.PI*2,n.rotation.y=Math.random()*Math.PI*2;var i=.2+.8*Math.random();n.scale.set(i,i,i),n.castShadow=!0,n.receiveShadow=!0,this.mesh.add(n)}};exports["default"]=Cloud}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./colors":7}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Colors={airplane:12046382,white:15261921,brown:5845806,brownDark:2300175,water:25687};exports["default"]=Colors},{}],8:[function(require){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a["default"]=e,a}function createScene(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,scene=new THREE.Scene,scene.fog=new THREE.Fog(13028587,200,GROUND_DIAMETER/2),aspectRatio=WIDTH/HEIGHT,fieldOfView=60,nearPlane=1,farPlane=1e4,camera=new THREE.PerspectiveCamera(fieldOfView,aspectRatio,nearPlane,farPlane),renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),renderer.setSize(WIDTH,HEIGHT),renderer.shadowMap.enabled=!0,container=document.getElementById("world"),container.appendChild(renderer.domElement)}function handleWindowResize(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,effect.setSize(WIDTH,HEIGHT),renderer.setSize(WIDTH,HEIGHT),camera.aspect=WIDTH/HEIGHT,camera.updateProjectionMatrix()}function createLights(){var e=void 0,a=void 0,o=void 0;e=new THREE.HemisphereLight(15256308,12314871,.5),a=new THREE.DirectionalLight(16777215,.1),a.position.set(-150,GROUND_DIAMETER,150),a.castShadow=!0,a.shadow.camera.left=-1e3,a.shadow.camera.right=1e3,a.shadow.camera.top=1e3,a.shadow.camera.bottom=-500,a.shadow.camera.near=-1e3,a.shadow.camera.far=1e3,a.shadow.mapSize.width=2048,a.shadow.mapSize.height=2048,o=new THREE.AmbientLight(15256308,.7),scene.add(o),scene.add(e),scene.add(a)}function createSea(){return sea=new _sea2["default"](GROUND_DIAMETER),sea.mesh.rotation.z=Math.PI/2,sea}function createSky(){return sky=new _sky2["default"](GROUND_DIAMETER)}function createPlane(){airplane=new _airplane2["default"],airplane.mesh.scale.set(.25,.25,.25),airplane.mesh.position.y=GROUND_DIAMETER+planeStartY,airplane.mesh.position.z=planeStartZ,scene.add(airplane.mesh)}function updateController(e){if(e.update(),e.visible){var o=e.rotation.x/.5,r=(e.rotation.z+e.rotation.y)/.5*-1;mousePos={x:r,y:o,isInteractive:!0}}}function loop(e){viveController&&updateController(viveController,0),controls&&controls.update(clock.getDelta()),vrcontrols&&vrcontrols.update(clock.getDelta()),updatePlane(),sea.moveWaves();var a=new THREE.Matrix4;a.makeRotationAxis(new THREE.Vector3(0,1,0),turnSpeed);var o=new THREE.Matrix4;o.makeRotationAxis(new THREE.Vector3(1,0,0),.002);var r=new THREE.Matrix4;if(r.multiply(a),r.multiply(o),r.multiply(world.matrix),world.matrix=r,world.rotation.setFromRotationMatrix(world.matrix),manager.mode===_webvrBoilerplate.Modes.NORMAL||manager.mode===_webvrBoilerplate.Modes.UNKNOWN)dollyCam.lookAt(airplane.mesh.position);else{var n=airplane.mesh.position,t=n.x,i=n.y,l=n.z;dollyCam.position.x=t,dollyCam.lookAt(dollyCam.position),dollyCam.position.y=i+12,dollyCam.position.z=l+1}manager.render(scene,camera,e),window.requestAnimationFrame(loop)}function updatePlane(){var e=.025,a=.02;if(airplane.propeller.rotation.x+=.3,!mouseDragging){var o=Math.PI/2,r=GROUND_DIAMETER+20,n=GROUND_DIAMETER+800,t=n-r,i=normalize(mousePos.y,-.75,.75,r,n),l=i-airplane.mesh.position.y;airplane.mesh.position.y+=l*e;var d=o*normalize(l,-t/2,t/2,-1,1);airplane.mesh.rotation.x+=.05*(d-airplane.mesh.rotation.x);var s=normalize(mousePos.x,-.75,.75,Math.PI/4,-Math.PI/4);airplane.mesh.rotation.z=.5*(s+airplane.mesh.rotation.z);var c=normalize(mousePos.y,-.75,.75,GROUND_DIAMETER+40,GROUND_DIAMETER+850),m=50,p=normalize(mousePos.y,-.75,.75,cameraStartZ-m,cameraStartZ+m);mousePos.isInteractive&&(dollyCam.position.y+=(c-dollyCam.position.y)*a,dollyCam.position.z+=(p-dollyCam.position.z)*a),turnSpeed=s*e*-1,compassHeading+=turnSpeed}}function normalize(e,a,o,r,n){var t=Math.max(Math.min(e,o),a),i=o-a,l=(t-a)/i,d=n-r,s=r+l*d;return s}function handleMouseMove(e){var a=-1+e.clientX/WIDTH*2,o=1-e.clientY/HEIGHT*2;mousePos={x:a,y:o,isInteractive:!0}}function handleMouseDown(){mouseDragging=!0}function handleMouseUp(){mouseDragging=!1}function init(){createScene(),createLights(),createPlane(),createSea(),createSky(),world=new THREE.Object3D,world.add(sky.mesh),world.add(sea.mesh),scene.add(world),vrcontrols=new THREE.VRControls(camera),effect=new THREE.VREffect(renderer),effect.setSize(window.innerWidth,window.innerHeight);var e={hideButton:!1,isUndistorted:!1};manager=new _webvrBoilerplate2["default"](renderer,effect,e),dollyCam=new THREE.PerspectiveCamera,dollyCam.position.y=GROUND_DIAMETER+2*planeStartY,dollyCam.position.z=cameraStartZ,dollyCam.add(camera),scene.add(dollyCam),navigator.getGamepads&&(viveController=new THREE.ViveController(0),viveController.standingMatrix=vrcontrols.getStandingMatrix(),scene.add(viveController)),loop(),window.addEventListener("resize",handleWindowResize,!1),document.addEventListener("mousemove",handleMouseMove,!1),document.addEventListener("mousedown",handleMouseDown,!1),document.addEventListener("mouseup",handleMouseUp,!1)}var _three="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,THREE=_interopRequireWildcard(_three),_sky=require("./sky"),_sky2=_interopRequireDefault(_sky),_airplane=require("./airplane"),_airplane2=_interopRequireDefault(_airplane),_sea=require("./sea"),_sea2=_interopRequireDefault(_sea),_VRControls2=require("VRControls"),_VREffect2=(_interopRequireDefault(_VRControls2),
require("VREffect")),_ViveController2=(_interopRequireDefault(_VREffect2),require("ViveController")),_webvrBoilerplate=(_interopRequireDefault(_ViveController2),require("webvr-boilerplate")),_webvrBoilerplate2=_interopRequireDefault(_webvrBoilerplate),scene=void 0,camera=void 0,fieldOfView=void 0,aspectRatio=void 0,nearPlane=void 0,farPlane=void 0,HEIGHT=void 0,WIDTH=void 0,renderer=void 0,container=void 0,sea=void 0,controls=void 0,vrcontrols=void 0,sky=void 0,airplane=void 0,effect=void 0,manager=void 0,dollyCam=void 0,viveController=void 0,world=void 0,turnSpeed=0,compassHeading=0,mouseDragging=!1,clock=new THREE.Clock,planeStartY=200,planeStartZ=0,cameraStartZ=100,GROUND_DIAMETER=2e3,mousePos={x:0,y:0,isInteractive:!1};window.addEventListener("load",init,!1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./airplane":5,"./sea":9,"./sky":10,VRControls:2,VREffect:3,ViveController:1,"webvr-boilerplate":4}],9:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _three="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,THREE=_interopRequireWildcard(_three),_colors=require("./colors"),_colors2=_interopRequireDefault(_colors),Sea=function(){function e(r){_classCallCheck(this,e);var t=new THREE.SphereGeometry(r,50,50);t.mergeVertices();var a=t.vertices.length;this.waves=[];for(var o=0;a>o;o++){var n=t.vertices[o];this.waves.push({y:n.y,x:n.x,z:n.z,ang:Math.random()*Math.PI*2,amp:5+25*Math.random(),speed:.016+.032*Math.random()})}var s=new THREE.MeshPhongMaterial({color:_colors2["default"].water,transparent:!0,opacity:1,shading:THREE.FlatShading,wireframe:!1});this.mesh=new THREE.Mesh(t,s),this.mesh.receiveShadow=!0}return e.prototype.moveWaves=function(){for(var e=this.mesh.geometry.vertices,r=e.length,t=0;r>t;t++){var a=e[t],o=this.waves[t];a.x=o.x+Math.cos(o.ang)*o.amp,a.y=o.y+Math.sin(o.ang)*o.amp,o.ang+=o.speed}this.mesh.geometry.verticesNeedUpdate=!0},e}();exports["default"]=Sea}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./colors":7}],10:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _three="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,THREE=_interopRequireWildcard(_three),_cloud=require("./cloud"),_cloud2=_interopRequireDefault(_cloud),Sky=function e(t){_classCallCheck(this,e),this.mesh=new THREE.Object3D,this.nClouds=200;for(var a=2*Math.PI/this.nClouds,r=0;r<this.nClouds;r++){var n=new _cloud2["default"],l=t+150+300*Math.random(),o=a*r,i=Math.random()*Math.PI*2,u=Math.random()*Math.PI*2,s=n.mesh.matrix.clone(),d=new THREE.Matrix4;d.makeRotationX(o);var c=new THREE.Matrix4;c.makeRotationZ(i);var h=new THREE.Matrix4;h.makeRotationY(u);var f=new THREE.Matrix4;f.makeTranslation(0,l,0),s.multiply(d),s.multiply(c),s.multiply(f),s.multiply(h),n.mesh.applyMatrix(s);var m=1+2*Math.random();n.mesh.scale.set(m,m,m),this.mesh.add(n.mesh)}};exports["default"]=Sky}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cloud":6}]},{},[8]);